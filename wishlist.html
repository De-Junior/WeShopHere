<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WeBuyHere - My Wishlist</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  >

  <style>
    /* Reset & Base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
    }

    body {
      background: #f4f6f8;
      color: #1f2937;
      line-height: 1.5;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    button {
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    button:hover {
      opacity: 0.9;
      transform: translateY(-1px);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 16px;
    }

    /* Header */
    header {
      background: #1f2937;
      color: #fff;
    }

    .top-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      padding: 14px 24px;
      align-items: center;
    }

    .logo a {
      font-size: 28px;
      font-weight: 700;
      color: #38bdf8;
    }

    .search {
      flex: 1;
      min-width: 200px;
    }

    .search input {
      width: 100%;
      padding: 10px 14px;
      border-radius: 8px;
      border: none;
      font-size: 14px;
    }

    .address {
      color: #9ca3af;
      font-size: 14px;
    }

    .account {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .account span, .account a {
      color: #fff;
      font-size: 14px;
    }

    .account a:hover {
      text-decoration: underline;
    }

    /* Navigation */
    nav {
      background: #fff;
      padding: 14px 24px;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      border-bottom: 1px solid #e5e7eb;
    }

    .nav-left,
    .nav-right {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .badge {
      background: #dcfce7;
      color: #15803d;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 600;
    }

    .nav-action {
      display: flex;
      align-items: center;
      gap: 6px;
      background: #f1f5f9;
      color: #1f2937;
      border: none;
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 600;
      font-size: 14px;
    }

    .nav-action:hover {
      background: #e2e8f0;
    }

    .nav-action .count {
      background: #2563eb;
      color: white;
      font-size: 12px;
      padding: 2px 7px;
      border-radius: 999px;
      min-width: 20px;
      text-align: center;
    }

    .wishlist-btn .count {
      background: #f43f5e;
    }

    /* Page Header */
    .page-header {
      padding: 40px 0 20px;
    }

    .page-header h1 {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .page-header p {
      color: #6b7280;
      font-size: 16px;
    }

    /* Wishlist Stats */
    .wishlist-stats {
      background: white;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 30px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .stat-card {
      text-align: center;
      padding: 20px;
      border-radius: 8px;
      background: #f8fafc;
    }

    .stat-icon {
      font-size: 32px;
      margin-bottom: 12px;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 4px;
      color: #1f2937;
    }

    .stat-label {
      color: #6b7280;
      font-size: 14px;
    }

    .price-total {
      color: #16a34a;
    }

    .item-count {
      color: #2563eb;
    }

    .on-sale {
      color: #f43f5e;
    }

    /* Wishlist Controls */
    .wishlist-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 15px;
    }

    .filter-sort {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .filter-btn, .sort-select {
      padding: 10px 16px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background: white;
      font-size: 14px;
      font-weight: 500;
    }

    .sort-select {
      min-width: 160px;
    }

    .action-buttons {
      display: flex;
      gap: 12px;
    }

    .btn-primary {
      background: #2563eb;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
    }

    .btn-secondary {
      background: #f1f5f9;
      color: #1f2937;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
    }

    .btn-danger {
      background: #f43f5e;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
    }

    /* Wishlist Grid */
    .wishlist-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
      margin-bottom: 60px;
    }

    .wishlist-item {
      background: white;
      border-radius: 12px;
      padding: 20px;
      position: relative;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .wishlist-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }

    .item-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
    }

    .item-category {
      background: #e0e7ff;
      color: #3730a3;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
    }

    .remove-btn {
      background: none;
      border: none;
      color: #9ca3af;
      font-size: 20px;
      padding: 4px;
      border-radius: 4px;
    }

    .remove-btn:hover {
      color: #ef4444;
      background: #fef2f2;
    }

    .item-image {
      width: 100%;
      height: 200px;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 16px;
    }

    .item-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .item-name {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
      line-height: 1.4;
    }

    .item-price {
      font-size: 20px;
      font-weight: 700;
      color: #16a34a;
      margin-bottom: 16px;
    }

    .item-meta {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: #6b7280;
      margin-bottom: 16px;
    }

    .item-actions {
      display: flex;
      gap: 8px;
    }

    .action-btn {
      flex: 1;
      padding: 10px;
      border-radius: 6px;
      font-weight: 600;
      font-size: 14px;
      text-align: center;
    }

    .add-cart-btn {
      background: #2563eb;
      color: white;
      border: none;
    }

    .add-cart-btn:hover {
      background: #1d4ed8;
    }

    .view-btn {
      background: #f1f5f9;
      color: #1f2937;
      border: none;
    }

    .view-btn:hover {
      background: #e2e8f0;
    }

    .sale-badge {
      position: absolute;
      top: -8px;
      right: 20px;
      background: #f43f5e;
      color: white;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
    }

    /* Empty Wishlist */
    .empty-wishlist {
      text-align: center;
      padding: 60px 20px;
      background: white;
      border-radius: 12px;
      grid-column: 1 / -1;
    }

    .empty-icon {
      font-size: 64px;
      color: #f43f5e;
      margin-bottom: 20px;
    }

    .empty-wishlist h3 {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .empty-wishlist p {
      color: #6b7280;
      margin-bottom: 24px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Recently Added */
    .recently-added {
      margin-bottom: 60px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .section-header h2 {
      font-size: 24px;
      font-weight: 700;
    }

    .view-all {
      color: #2563eb;
      font-weight: 600;
      font-size: 14px;
    }

    .view-all:hover {
      text-decoration: underline;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
    }

    .product-card {
      position: relative;
      background: #fff;
      border-radius: 12px;
      padding: 12px;
      display: flex;
      flex-direction: column;
      box-shadow: 0 6px 16px rgba(0,0,0,.05);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .product-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 20px rgba(0,0,0,.1);
    }

    .product-card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 12px;
    }

    .product-name {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
      line-height: 1.4;
      flex-grow: 1;
    }

    .product-price {
      font-size: 16px;
      font-weight: 700;
      color: #16a34a;
      margin-bottom: 12px;
    }

    .add-wishlist {
      position: absolute;
      top: 8px;
      right: 8px;
      font-size: 18px;
      color: #f43f5e;
      background: white;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .add-cart {
      background: #2563eb;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      font-weight: 600;
      font-size: 14px;
      width: 100%;
    }

    .add-cart:hover {
      background: #1d4ed8;
    }

    /* Footer */
    footer {
      background: #1f2937;
      color: #cbd5f5;
      margin-top: 60px;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      padding: 30px 16px;
      max-width: 1200px;
      margin: auto;
    }

    .footer-content h4 {
      color: #fff;
      margin-bottom: 12px;
      font-size: 16px;
    }

    .footer-link {
      display: block;
      color: #cbd5f5;
      font-size: 14px;
      margin-bottom: 8px;
    }

    .footer-link:hover {
      color: #fff;
      text-decoration: underline;
    }

    .copyright {
      border-top: 1px solid #334155;
      padding: 20px;
      text-align: center;
      font-size: 13px;
      color: #9ca3af;
    }

    /* Notification */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #10b981;
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .wishlist-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
      
      .wishlist-controls {
        flex-direction: column;
        align-items: stretch;
      }
      
      .action-buttons {
        justify-content: center;
      }
    }

    @media (max-width: 480px) {
      .wishlist-grid {
        grid-template-columns: 1fr;
      }
      
      .item-actions {
        flex-direction: column;
      }
    }
  </style>
</head>

<body>

<header>
  <div class="top-bar">
    <div class="logo"><a href="index.html">WeShopOnline</a></div>
    <div class="address">Delivering to: Cape Town, 8001</div>
    <div class="search">
      <input type="text" placeholder="Search products and brands">
    </div>
    <div class="account">
      <span id="cartCount">R100 Credit</span>
      <span>|</span>
      <a href="#">Sign In</a>
      <span>/</span>
      <a href="#">Sign Up</a>
    </div>
  </div>
</header>

<nav>
  <div class="nav-left">
    <div class="badge">7 WORKING DAYS DELIVERY</div>
    <div class="badge">NATION WIDE</div>
  </div>

  <div class="nav-right">
    <button class="nav-action wishlist-btn active" onclick="window.location.href='wishlist.html'">
      ‚ù§Ô∏è <span>Wishlist</span>
      <span class="count" id="wishlistCount">8</span>
    </button>

    <button class="nav-action cart-btn" onclick="window.location.href='cart.html'">
      üõí <span>Cart</span>
      <span class="count" id="cartItems">3</span>
    </button>
  </div>
</nav>

<main class="container">
  <div class="page-header">
    <h1>My Wishlist</h1>
    <p>Save items you love for later</p>
  </div>

  <!-- Wishlist Statistics -->
  <div class="wishlist-stats">
    <div class="stat-card">
      <div class="stat-icon">‚ù§Ô∏è</div>
      <div class="stat-value item-count" id="totalItems">8</div>
      <div class="stat-label">Total Items</div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üí∞</div>
      <div class="stat-value price-total" id="totalPrice">R23,692</div>
      <div class="stat-label">Total Value</div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üè∑Ô∏è</div>
      <div class="stat-value on-sale" id="onSale">3</div>
      <div class="stat-label">Items on Sale</div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üìÖ</div>
      <div class="stat-value" id="oldestItem">7d</div>
      <div class="stat-label">Oldest Item</div>
    </div>
  </div>

  <!-- Wishlist Controls -->
  <div class="wishlist-controls">
    <div class="filter-sort">
      <select class="filter-btn" id="categoryFilter" onchange="filterWishlist()">
        <option value="all">All Categories</option>
        <option value="electronics">Electronics</option>
        <option value="gaming">Gaming</option>
        <option value="home">Home Appliances</option>
        <option value="office">Office</option>
      </select>
      <select class="sort-select" id="sortSelect" onchange="sortWishlist()">
        <option value="newest">Newest First</option>
        <option value="oldest">Oldest First</option>
        <option value="price-low">Price: Low to High</option>
        <option value="price-high">Price: High to Low</option>
        <option value="name">Name: A to Z</option>
      </select>
    </div>
    <div class="action-buttons">
      <button class="btn-primary" onclick="addAllToCart()">Add All to Cart</button>
      <button class="btn-secondary" onclick="shareWishlist()">Share Wishlist</button>
      <button class="btn-danger" onclick="clearWishlist()">Clear All</button>
    </div>
  </div>

  <!-- Wishlist Items Grid -->
  <div class="wishlist-grid" id="wishlistGrid">
    <!-- Wishlist items will be dynamically generated -->
  </div>

  <!-- Recently Added Section -->
  <div class="recently-added">
    <div class="section-header">
      <h2>Recently Added to Store</h2>
      <a href="index.html" class="view-all">View All Products ‚Üí</a>
    </div>
    <div class="product-grid" id="recentProducts">
      <!-- Recently added products will be dynamically generated -->
    </div>
  </div>
</main>

<footer>
  <div class="footer-content">
    <div>
      <h4>Company</h4>
      <a class="footer-link" href="about.html">About Us</a>
      <a class="footer-link" href="terms.html">Terms & Conditions</a>
      <a class="footer-link" href="privacy.html">Privacy Policy</a>
      <a class="footer-link" href="cookies.html">Cookie Policy</a>
    </div>
    <div>
      <h4>Support</h4>
      <a class="footer-link" href="help.html">Help Center</a>
      <a class="footer-link" href="contact.html">Contact Us</a>
      <a class="footer-link" href="shipping.html">Shipping Policy</a>
      <a class="footer-link" href="returns.html">Returns & Refunds</a>
    </div>
    <div>
      <h4>Account</h4>
      <a class="footer-link" href="#">My Account</a>
      <a class="footer-link" href="#">Order History</a>
      <a class="footer-link" href="wishlist.html">Wishlist</a>
      <a class="footer-link" href="#">Newsletter</a>
    </div>
    <div>
      <h4>Quick Links</h4>
      <a class="footer-link" href="index.html">Shop All Products</a>
      <a class="footer-link" href="cart.html">View Cart</a>
      <a class="footer-link" href="wishlist.html">My Wishlist</a>
      <a class="footer-link" href="#">Track Order</a>
    </div>
  </div>

  <div class="copyright">
    ¬© 2026 All rights reserved. Shoprite Holdings
  </div>
</footer>

<script>
  // Wishlist data
  let wishlistItems = [
    {
      id: 1,
      name: "Gaming Mouse Pro",
      price: 799,
      originalPrice: 999,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSX3YvNGeMRX9_7-ohSXJP_NvsHffPhRocMOg&s",
      category: "gaming",
      addedDate: "2026-01-05",
      onSale: true
    },
    {
      id: 2,
      name: "Mechanical Keyboard RGB",
      price: 1499,
      originalPrice: 1799,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRyAi_LG8QC_eds60Y_C0c9oqc42Jhgef15qQ&s",
      category: "gaming",
      addedDate: "2026-01-07",
      onSale: true
    },
    {
      id: 3,
      name: "27-inch 4K Monitor",
      price: 4499,
      originalPrice: 4499,
      image: "https://www.dellonline.co.za/cdn/shop/files/C7FE19E8-896B-4063-924C-247DE7E9FF80_169200_800x.jpg?v=1708345394",
      category: "electronics",
      addedDate: "2026-01-08",
      onSale: false
    },
    {
      id: 4,
      name: "Wireless Noise Cancelling Headphones",
      price: 2499,
      originalPrice: 2999,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROaVTiVBI1HzseGEfJjBq2XyEu_b526vXGiA&s",
      category: "electronics",
      addedDate: "2026-01-02",
      onSale: true
    },
    {
      id: 5,
      name: "Smart TV 55-inch 4K",
      price: 8999,
      originalPrice: 9999,
      image: "https://hisense.co.za/wp-content/uploads/2024/07/55-A6K-TV-2023-v2-1024x1024.jpg",
      category: "electronics",
      addedDate: "2026-01-10",
      onSale: false
    },
    {
      id: 6,
      name: "Gaming Chair Pro",
      price: 3999,
      originalPrice: 3999,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTrjzBsAVuV2jkkc8Hs7rlyPzwgHXRKHnSBA&s",
      category: "gaming",
      addedDate: "2026-01-01",
      onSale: false
    },
    {
      id: 7,
      name: "Air Fryer 5L Digital",
      price: 1999,
      originalPrice: 2499,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfl_ELvh5THDjkeCeQIl6Qk-u3LPRkaI6Hog&s",
      category: "home",
      addedDate: "2026-01-09",
      onSale: false
    },
    {
      id: 8,
      name: "Office Ergonomic Chair",
      price: 2999,
      originalPrice: 3499,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfsQdyX3cVumBEwlJGjnE1ihOIDwKt6bG1Qw&s",
      category: "office",
      addedDate: "2026-01-06",
      onSale: true
    }
  ];

  let recentlyAddedProducts = [
    {
      id: 9,
      name: "Smart Watch Series 8",
      price: 3299,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTk2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7a8b&s",
      category: "electronics"
    },
    {
      id: 10,
      name: "Portable SSD 1TB",
      price: 1899,
      image: "https://pcinternational.co.za/wp-content/uploads/STKX2000400-1.webp",
      category: "electronics"
    },
    {
      id: 11,
      name: "Robot Vacuum Cleaner",
      price: 4999,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSuPFdv9PsZ2eXexK2FKkBQAihjfu6uAybj9w&s",
      category: "home"
    },
    {
      id: 12,
      name: "Wireless Earbuds Pro",
      price: 1699,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQh6Lm4n1wL8k3v2q5s8w9x0z1a2b3c4d5e6f&s",
      category: "electronics"
    },
    {
      id: 13,
      name: "Gaming Desk RGB",
      price: 3299,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcAp3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d&s",
      category: "gaming"
    },
    {
      id: 14,
      name: "Smart Home Hub",
      price: 1299,
      image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRSe2bDljDGCuS8wDo1PMgWL-Jgst3nz7GM8A&s",
      category: "home"
    }
  ];

  let currentCategory = 'all';
  let currentSort = 'newest';

  // Initialize wishlist
  document.addEventListener('DOMContentLoaded', () => {
    renderWishlistItems();
    renderRecentlyAdded();
    updateWishlistStats();
  });

  // Render wishlist items
  function renderWishlistItems() {
    const container = document.getElementById('wishlistGrid');
    
    // Filter items by category
    let filteredItems = wishlistItems;
    if (currentCategory !== 'all') {
      filteredItems = wishlistItems.filter(item => item.category === currentCategory);
    }
    
    // Sort items
    filteredItems = sortItems(filteredItems);
    
    if (filteredItems.length === 0) {
      container.innerHTML = `
        <div class="empty-wishlist">
          <div class="empty-icon">‚ù§Ô∏è</div>
          <h3>Your wishlist is empty</h3>
          <p>Start adding items you love! Browse our collection and click the heart icon to save items for later.</p>
          <button class="btn-primary" onclick="window.location.href='index.html'">Browse Products</button>
        </div>
      `;
      return;
    }
    
    container.innerHTML = filteredItems.map(item => `
      <div class="wishlist-item" data-id="${item.id}">
        ${item.onSale ? '<div class="sale-badge">ON SALE</div>' : ''}
        <div class="item-header">
          <span class="item-category">${item.category.toUpperCase()}</span>
          <button class="remove-btn" onclick="removeFromWishlist(${item.id})">√ó</button>
        </div>
        <div class="item-image">
          <img src="${item.image}" alt="${item.name}">
        </div>
        <div class="item-name">${item.name}</div>
        <div class="item-price">
          R${item.price.toFixed(2)}
          ${item.originalPrice > item.price ? 
            `<span style="font-size: 14px; color: #9ca3af; text-decoration: line-through; margin-left: 8px;">
              R${item.originalPrice.toFixed(2)}
            </span>` : ''}
        </div>
        <div class="item-meta">
          <span>Added: ${formatDate(item.addedDate)}</span>
          <span>Save: ${item.onSale ? 'R' + (item.originalPrice - item.price).toFixed(2) : '‚Äî'}</span>
        </div>
        <div class="item-actions">
          <button class="action-btn add-cart-btn" onclick="addToCartFromWishlist(${item.id})">
            Add to Cart
          </button>
          <button class="action-btn view-btn" onclick="viewProduct(${item.id})">
            View
          </button>
        </div>
      </div>
    `).join('');
  }

  // Render recently added products
  function renderRecentlyAdded() {
    const container = document.getElementById('recentProducts');
    
    container.innerHTML = recentlyAddedProducts.map(product => `
      <div class="product-card">
        <button class="add-wishlist" onclick="addToWishlist(${product.id})">‚ù§Ô∏è</button>
        <img src="${product.image}" alt="${product.name}">
        <div class="product-name">${product.name}</div>
        <div class="product-price">R${product.price.toFixed(2)}</div>
        <button class="add-cart" onclick="addToCartFromRecent(${product.id})">
          üõí Add to Cart
        </button>
      </div>
    `).join('');
  }

  // Sort items based on selected option
  function sortItems(items) {
    switch(currentSort) {
      case 'newest':
        return [...items].sort((a, b) => new Date(b.addedDate) - new Date(a.addedDate));
      case 'oldest':
        return [...items].sort((a, b) => new Date(a.addedDate) - new Date(b.addedDate));
      case 'price-low':
        return [...items].sort((a, b) => a.price - b.price);
      case 'price-high':
        return [...items].sort((a, b) => b.price - a.price);
      case 'name':
        return [...items].sort((a, b) => a.name.localeCompare(b.name));
      default:
        return items;
    }
  }

  // Update wishlist statistics
  function updateWishlistStats() {
    const totalItems = wishlistItems.length;
    const totalPrice = wishlistItems.reduce((sum, item) => sum + item.price, 0);
    const onSaleCount = wishlistItems.filter(item => item.onSale).length;
    
    // Find oldest item
    const oldestItem = wishlistItems.length > 0 
      ? Math.min(...wishlistItems.map(item => 
          Math.floor((new Date() - new Date(item.addedDate)) / (1000 * 60 * 60 * 24)))
        )
      : 0;
    
    document.getElementById('totalItems').textContent = totalItems;
    document.getElementById('totalPrice').textContent = `R${totalPrice.toFixed(2)}`;
    document.getElementById('onSale').textContent = onSaleCount;
    document.getElementById('oldestItem').textContent = oldestItem > 0 ? `${oldestItem}d` : '‚Äî';
    
    // Update nav count
    document.getElementById('wishlistCount').textContent = totalItems;
  }

  // Filter wishlist by category
  function filterWishlist() {
    currentCategory = document.getElementById('categoryFilter').value;
    renderWishlistItems();
  }

  // Sort wishlist
  function sortWishlist() {
    currentSort = document.getElementById('sortSelect').value;
    renderWishlistItems();
  }

  // Add item to wishlist from recent products
  function addToWishlist(productId) {
    const product = recentlyAddedProducts.find(p => p.id === productId);
    
    if (product) {
      // Check if already in wishlist
      const existingItem = wishlistItems.find(item => item.id === productId);
      
      if (!existingItem) {
        wishlistItems.push({
          ...product,
          originalPrice: product.price,
          addedDate: new Date().toISOString().split('T')[0],
          onSale: false
        });
        
        showNotification(`${product.name} added to wishlist`);
        renderWishlistItems();
        updateWishlistStats();
      } else {
        showNotification(`${product.name} is already in your wishlist`);
      }
    }
  }

  // Remove item from wishlist
  function removeFromWishlist(itemId) {
    const item = wishlistItems.find(item => item.id === itemId);
    if (item) {
      wishlistItems = wishlistItems.filter(item => item.id !== itemId);
      showNotification(`${item.name} removed from wishlist`);
      renderWishlistItems();
      updateWishlistStats();
    }
  }

  // Add item to cart from wishlist
  function addToCartFromWishlist(itemId) {
    const item = wishlistItems.find(item => item.id === itemId);
    if (item) {
      // In a real app, this would add to cart state
      showNotification(`${item.name} added to cart!`);
      // Optional: Remove from wishlist after adding to cart
      // removeFromWishlist(itemId);
    }
  }

  // Add item to cart from recent products
  function addToCartFromRecent(productId) {
    const product = recentlyAddedProducts.find(p => p.id === productId);
    if (product) {
      showNotification(`${product.name} added to cart!`);
    }
  }

  // View product details
  function viewProduct(itemId) {
    // In a real app, this would navigate to product page
    showNotification("Redirecting to product page...");
  }

  // Add all wishlist items to cart
  function addAllToCart() {
    if (wishlistItems.length === 0) {
      showNotification("Your wishlist is empty");
      return;
    }
    
    const count = wishlistItems.length;
    showNotification(`Added ${count} items to cart!`);
    
    // Optional: Clear wishlist after adding all to cart
    // wishlistItems = [];
    // renderWishlistItems();
    // updateWishlistStats();
  }

  // Share wishlist
  function shareWishlist() {
    if (wishlistItems.length === 0) {
      showNotification("Your wishlist is empty");
      return;
    }
    
    // In a real app, this would generate a shareable link
    const wishlistUrl = `${window.location.origin}/wishlist/share/${generateShareId()}`;
    
    // Simulate copy to clipboard
    navigator.clipboard.writeText(wishlistUrl).then(() => {
      showNotification("Wishlist link copied to clipboard!");
    }).catch(() => {
      alert(`Share this link: ${wishlistUrl}`);
    });
  }

  // Clear all wishlist items
  function clearWishlist() {
    if (wishlistItems.length === 0) {
      showNotification("Your wishlist is already empty");
      return;
    }
    
    if (confirm("Are you sure you want to clear your entire wishlist?")) {
      wishlistItems = [];
      renderWishlistItems();
      updateWishlistStats();
      showNotification("Wishlist cleared");
    }
  }

  // Helper functions
  function formatDate(dateString) {
    const date = new Date(dateString);
    const now = new Date();
    const diffDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));
    
    if (diffDays === 0) return "Today";
    if (diffDays === 1) return "Yesterday";
    if (diffDays < 7) return `${diffDays} days ago`;
    
    return date.toLocaleDateString('en-ZA', { 
      month: 'short', 
      day: 'numeric' 
    });
  }

  function generateShareId() {
    return Math.random().toString(36).substring(2, 15);
  }

  // Notification function
  function showNotification(message) {
    const notification = document.createElement('div');
    notification.className = 'notification';
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.style.animation = 'slideOut 0.3s ease';
      setTimeout(() => notification.remove(), 300);
    }, 3000);
  }
</script>
</body>
</html>